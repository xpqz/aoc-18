from day17 import Cave

TEST_DATA = [
    "x=495, y=2..7",
    "y=7, x=495..501",
    "x=501, y=3..7",
    "x=498, y=2..4",
    "x=506, y=1..2",
    "x=498, y=10..13",
    "x=504, y=10..13",
    "y=13, x=498..504"
]

# .....+......
# .....|.....#
# #..#||||...#
# #..#~~#|....
# #..#~~#|....
# #~~~~~#|....
# #~~~~~#|....
# #######|....
# .......|....
# ..|||||||||.
# ..|#~~~~~#|.
# ..|#~~~~~#|.
# ..|#~~~~~#|.
# ..|#######|.

def test_sample_data():
    c = Cave.from_data(TEST_DATA)

    for _ in range(8):
        c.fill((500, 1))

    assert len(c.wet_sand) + len(c.settled) == 57
